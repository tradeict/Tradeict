{"dependencies":[{"name":"../../model/index.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":56,"index":56}}],"key":"ecknVzcUu1YLgoWzPEOnNKr2bTY=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"SegmentSequence\", {\n    enumerable: true,\n    get: function () {\n      return SegmentSequence;\n    }\n  });\n  var _modelIndexJs = require(_dependencyMap[0], \"../../model/index.js\");\n  class SegmentSequence {\n    '1' = [_modelIndexJs.Segment.CORE];\n    '2' = [_modelIndexJs.Segment.CORE];\n    constructor(tcModel, options) {\n      if (tcModel.version === 2) {\n        if (tcModel.isServiceSpecific) {\n          /**\n           * If it's service specific only, then the publisher TC String can be\n           * stored in the cookie and would be transmitted if it's not for\n           * storage.  So it's included regardless of whether or not it's for\n           * saving or the cmp api to surface.\n           */\n          this['2'].push(_modelIndexJs.Segment.PUBLISHER_TC);\n        } else {\n          const isForVendors = !!(options && options.isForVendors);\n          /**\n           * including vendors disclosed only if it is for saving (to the global\n           * scope and not for vendors through the CMP API) or supportOOB is\n           * turned on (either or both).  The compliment of this being not for\n           * saving (surfaced to CMP) and no support of OOB.\n           */\n          if (!isForVendors || tcModel[_modelIndexJs.Fields.supportOOB] === true) {\n            this['2'].push(_modelIndexJs.Segment.VENDORS_DISCLOSED);\n          }\n          if (isForVendors) {\n            /**\n             * If a publisher does support OOB and they have narrowed the allowed\n             * vendors to utilize it, then we should include the vendors allowed\n             * segment.  If it is empty then there are no restrictions, if that\n             * is intended to mean no support for OOB, then the flag should be\n             * set for that instead.\n             *\n             */\n            if (tcModel[_modelIndexJs.Fields.supportOOB] && tcModel[_modelIndexJs.Fields.vendorsAllowed].size > 0) {\n              this['2'].push(_modelIndexJs.Segment.VENDORS_ALLOWED);\n            }\n            /**\n             * Always include the publisher TC segment as long as this TC string\n             * is not intended to be saved in the global scope.\n             */\n            this['2'].push(_modelIndexJs.Segment.PUBLISHER_TC);\n          }\n        }\n      }\n    }\n  }\n});","lineCount":60,"map":[[7,2,2,0,"Object"],[7,8,2,0],[7,9,2,0,"defineProperty"],[7,23,2,0],[7,24,2,0,"exports"],[7,31,2,0],[8,4,2,0,"enumerable"],[8,14,2,0],[9,4,2,0,"get"],[9,7,2,0],[9,18,2,0,"get"],[9,19,2,0],[10,6,2,0],[10,13,2,0,"SegmentSequence"],[10,28,2,0],[11,4,2,0],[12,2,2,0],[13,2,1,0],[13,6,1,0,"_modelIndexJs"],[13,19,1,0],[13,22,1,0,"require"],[13,29,1,0],[13,30,1,0,"_dependencyMap"],[13,44,1,0],[14,2,2,7],[14,8,2,13,"SegmentSequence"],[14,23,2,28],[14,24,2,29],[15,4,3,4],[15,7,3,7],[15,10,3,10],[15,11,4,8,"Segment"],[15,24,4,15],[15,25,4,15,"Segment"],[15,32,4,15],[15,33,4,16,"CORE"],[15,37,4,20],[15,38,5,5],[16,4,6,4],[16,7,6,7],[16,10,6,10],[16,11,7,8,"Segment"],[16,24,7,15],[16,25,7,15,"Segment"],[16,32,7,15],[16,33,7,16,"CORE"],[16,37,7,20],[16,38,8,5],[17,4,9,4,"constructor"],[17,15,9,15,"constructor"],[17,16,9,16,"tcModel"],[17,23,9,23],[17,25,9,25,"options"],[17,32,9,32],[17,34,9,34],[18,6,10,8],[18,10,10,12,"tcModel"],[18,17,10,19],[18,18,10,20,"version"],[18,25,10,27],[18,30,10,32],[18,31,10,33],[18,33,10,35],[19,8,11,12],[19,12,11,16,"tcModel"],[19,19,11,23],[19,20,11,24,"isServiceSpecific"],[19,37,11,41],[19,39,11,43],[20,10,12,16],[21,0,13,0],[22,0,14,0],[23,0,15,0],[24,0,16,0],[25,0,17,0],[26,10,18,16],[26,14,18,20],[26,15,18,21],[26,18,18,24],[26,19,18,25],[26,20,18,26,"push"],[26,24,18,30],[26,25,18,31,"Segment"],[26,38,18,38],[26,39,18,38,"Segment"],[26,46,18,38],[26,47,18,39,"PUBLISHER_TC"],[26,59,18,51],[26,60,18,52],[27,8,19,12],[27,9,19,13],[27,15,20,17],[28,10,21,16],[28,16,21,22,"isForVendors"],[28,28,21,34],[28,31,21,37],[28,32,21,38],[28,34,21,40,"options"],[28,41,21,47],[28,45,21,51,"options"],[28,52,21,58],[28,53,21,59,"isForVendors"],[28,65,21,71],[28,66,21,72],[29,10,22,16],[30,0,23,0],[31,0,24,0],[32,0,25,0],[33,0,26,0],[34,0,27,0],[35,10,28,16],[35,14,28,20],[35,15,28,21,"isForVendors"],[35,27,28,33],[35,31,28,37,"tcModel"],[35,38,28,44],[35,39,28,45,"Fields"],[35,52,28,51],[35,53,28,51,"Fields"],[35,59,28,51],[35,60,28,52,"supportOOB"],[35,70,28,62],[35,71,28,63],[35,76,28,68],[35,80,28,72],[35,82,28,74],[36,12,29,20],[36,16,29,24],[36,17,29,25],[36,20,29,28],[36,21,29,29],[36,22,29,30,"push"],[36,26,29,34],[36,27,29,35,"Segment"],[36,40,29,42],[36,41,29,42,"Segment"],[36,48,29,42],[36,49,29,43,"VENDORS_DISCLOSED"],[36,66,29,60],[36,67,29,61],[37,10,30,16],[38,10,31,16],[38,14,31,20,"isForVendors"],[38,26,31,32],[38,28,31,34],[39,12,32,20],[40,0,33,0],[41,0,34,0],[42,0,35,0],[43,0,36,0],[44,0,37,0],[45,0,38,0],[46,0,39,0],[47,12,40,20],[47,16,40,24,"tcModel"],[47,23,40,31],[47,24,40,32,"Fields"],[47,37,40,38],[47,38,40,38,"Fields"],[47,44,40,38],[47,45,40,39,"supportOOB"],[47,55,40,49],[47,56,40,50],[47,60,40,54,"tcModel"],[47,67,40,61],[47,68,40,62,"Fields"],[47,81,40,68],[47,82,40,68,"Fields"],[47,88,40,68],[47,89,40,69,"vendorsAllowed"],[47,103,40,83],[47,104,40,84],[47,105,40,85,"size"],[47,109,40,89],[47,112,40,92],[47,113,40,93],[47,115,40,95],[48,14,41,24],[48,18,41,28],[48,19,41,29],[48,22,41,32],[48,23,41,33],[48,24,41,34,"push"],[48,28,41,38],[48,29,41,39,"Segment"],[48,42,41,46],[48,43,41,46,"Segment"],[48,50,41,46],[48,51,41,47,"VENDORS_ALLOWED"],[48,66,41,62],[48,67,41,63],[49,12,42,20],[50,12,43,20],[51,0,44,0],[52,0,45,0],[53,0,46,0],[54,12,47,20],[54,16,47,24],[54,17,47,25],[54,20,47,28],[54,21,47,29],[54,22,47,30,"push"],[54,26,47,34],[54,27,47,35,"Segment"],[54,40,47,42],[54,41,47,42,"Segment"],[54,48,47,42],[54,49,47,43,"PUBLISHER_TC"],[54,61,47,55],[54,62,47,56],[55,10,48,16],[56,8,49,12],[57,6,50,8],[58,4,51,4],[59,2,52,0],[60,0,52,1],[60,3]],"functionMap":{"names":["<global>","SegmentSequence","constructor"],"mappings":"AAA;OCC;ICO;KD0C;CDC"},"hasCjsExports":false},"type":"js/module"}]}