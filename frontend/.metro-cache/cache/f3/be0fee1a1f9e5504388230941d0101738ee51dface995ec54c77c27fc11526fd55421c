{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return EventEmitter;\n    }\n  });\n  class EventEmitter {\n    #registry = {};\n    addListener(eventType, listener, context) {\n      if (typeof listener !== 'function') {\n        throw new TypeError('EventEmitter.addListener(...): 2nd argument must be a function.');\n      }\n      const registrations = allocate(this.#registry, eventType);\n      const registration = {\n        context,\n        listener,\n        remove() {\n          registrations.delete(registration);\n        }\n      };\n      registrations.add(registration);\n      return registration;\n    }\n    emit(eventType, ...args) {\n      const registrations = this.#registry[eventType];\n      if (registrations != null) {\n        for (const registration of Array.from(registrations)) {\n          registration.listener.apply(registration.context, args);\n        }\n      }\n    }\n    removeAllListeners(eventType) {\n      if (eventType == null) {\n        this.#registry = {};\n      } else {\n        delete this.#registry[eventType];\n      }\n    }\n    listenerCount(eventType) {\n      const registrations = this.#registry[eventType];\n      return registrations == null ? 0 : registrations.size;\n    }\n  }\n  function allocate(registry, eventType) {\n    let registrations = registry[eventType];\n    if (registrations == null) {\n      registrations = new Set();\n      registry[eventType] = registrations;\n    }\n    return registrations;\n  }\n});","lineCount":58,"map":[[7,2,69,15,"Object"],[7,8,69,15],[7,9,69,15,"defineProperty"],[7,23,69,15],[7,24,69,15,"exports"],[7,31,69,15],[8,4,69,15,"enumerable"],[8,14,69,15],[9,4,69,15,"get"],[9,7,69,15],[9,18,69,15,"get"],[9,19,69,15],[10,6,69,15],[10,13,69,15,"EventEmitter"],[10,25,69,15],[11,4,69,15],[12,2,69,15],[13,2,69,15],[13,8,69,21,"EventEmitter"],[13,20,69,33],[13,21,74,0],[14,4,76,2],[14,5,76,3,"registry"],[14,13,76,11],[14,16,76,41],[14,17,76,42],[14,18,76,43],[15,4,82,2,"addListener"],[15,15,82,13,"addListener"],[15,16,83,4,"eventType"],[15,25,83,21],[15,27,84,4,"listener"],[15,35,84,57],[15,37,85,4,"context"],[15,44,85,18],[15,46,86,23],[16,6,87,4],[16,10,87,8],[16,17,87,15,"listener"],[16,25,87,23],[16,30,87,28],[16,40,87,38],[16,42,87,40],[17,8,88,6],[17,14,88,12],[17,18,88,16,"TypeError"],[17,27,88,25],[17,28,89,8],[17,93,90,6],[17,94,90,7],[18,6,91,4],[19,6,92,4],[19,12,92,10,"registrations"],[19,25,92,23],[19,28,92,26,"allocate"],[19,36,92,34],[19,37,96,6],[19,41,96,10],[19,42,96,11],[19,43,96,12,"registry"],[19,51,96,20],[19,53,96,22,"eventType"],[19,62,96,31],[19,63,96,32],[20,6,97,4],[20,12,97,10,"registration"],[20,24,97,61],[20,27,97,64],[21,8,98,6,"context"],[21,15,98,13],[22,8,99,6,"listener"],[22,16,99,14],[23,8,100,6,"remove"],[23,14,100,12,"remove"],[23,15,100,12],[23,17,100,21],[24,10,101,8,"registrations"],[24,23,101,21],[24,24,101,22,"delete"],[24,30,101,28],[24,31,101,29,"registration"],[24,43,101,41],[24,44,101,42],[25,8,102,6],[26,6,103,4],[26,7,103,5],[27,6,104,4,"registrations"],[27,19,104,17],[27,20,104,18,"add"],[27,23,104,21],[27,24,104,22,"registration"],[27,36,104,34],[27,37,104,35],[28,6,105,4],[28,13,105,11,"registration"],[28,25,105,23],[29,4,106,2],[30,4,115,2,"emit"],[30,8,115,6,"emit"],[30,9,116,4,"eventType"],[30,18,116,21],[30,20,117,4],[30,23,117,7,"args"],[30,27,117,36],[30,29,118,10],[31,6,119,4],[31,12,119,10,"registrations"],[31,25,119,68],[31,28,120,6],[31,32,120,10],[31,33,120,11],[31,34,120,12,"registry"],[31,42,120,20],[31,43,120,21,"eventType"],[31,52,120,30],[31,53,120,31],[32,6,121,4],[32,10,121,8,"registrations"],[32,23,121,21],[32,27,121,25],[32,31,121,29],[32,33,121,31],[33,8,124,6],[33,13,124,11],[33,19,124,17,"registration"],[33,31,124,29],[33,35,124,33,"Array"],[33,40,124,38],[33,41,124,39,"from"],[33,45,124,43],[33,46,124,44,"registrations"],[33,59,124,57],[33,60,124,58],[33,62,124,60],[34,10,126,8,"registration"],[34,22,126,20],[34,23,126,21,"listener"],[34,31,126,29],[34,32,126,30,"apply"],[34,37,126,35],[34,38,126,36,"registration"],[34,50,126,48],[34,51,126,49,"context"],[34,58,126,56],[34,60,126,58,"args"],[34,64,126,62],[34,65,126,63],[35,8,127,6],[36,6,128,4],[37,4,129,2],[38,4,134,2,"removeAllListeners"],[38,22,134,20,"removeAllListeners"],[38,23,135,4,"eventType"],[38,32,135,23],[38,34,136,10],[39,6,137,4],[39,10,137,8,"eventType"],[39,19,137,17],[39,23,137,21],[39,27,137,25],[39,29,137,27],[40,8,139,6],[40,12,139,10],[40,13,139,11],[40,14,139,12,"registry"],[40,22,139,20],[40,25,139,23],[40,26,139,24],[40,27,139,25],[41,6,140,4],[41,7,140,5],[41,13,140,11],[42,8,141,6],[42,15,141,13],[42,19,141,17],[42,20,141,18],[42,21,141,19,"registry"],[42,29,141,27],[42,30,141,28,"eventType"],[42,39,141,37],[42,40,141,38],[43,6,142,4],[44,4,143,2],[45,4,148,2,"listenerCount"],[45,17,148,15,"listenerCount"],[45,18,148,48,"eventType"],[45,27,148,65],[45,29,148,75],[46,6,149,4],[46,12,149,10,"registrations"],[46,25,149,68],[46,28,150,6],[46,32,150,10],[46,33,150,11],[46,34,150,12,"registry"],[46,42,150,20],[46,43,150,21,"eventType"],[46,52,150,30],[46,53,150,31],[47,6,151,4],[47,13,151,11,"registrations"],[47,26,151,24],[47,30,151,28],[47,34,151,32],[47,37,151,35],[47,38,151,36],[47,41,151,39,"registrations"],[47,54,151,52],[47,55,151,53,"size"],[47,59,151,57],[48,4,152,2],[49,2,153,0],[50,2,155,0],[50,11,155,9,"allocate"],[50,19,155,17,"allocate"],[50,20,160,2,"registry"],[50,28,160,37],[50,30,161,2,"eventType"],[50,39,161,19],[50,41,162,46],[51,4,163,2],[51,8,163,6,"registrations"],[51,21,163,64],[51,24,164,4,"registry"],[51,32,164,12],[51,33,164,13,"eventType"],[51,42,164,22],[51,43,164,23],[52,4,165,2],[52,8,165,6,"registrations"],[52,21,165,19],[52,25,165,23],[52,29,165,27],[52,31,165,29],[53,6,166,4,"registrations"],[53,19,166,17],[53,22,166,20],[53,26,166,24,"Set"],[53,29,166,27],[53,30,166,28],[53,31,166,29],[54,6,167,4,"registry"],[54,14,167,12],[54,15,167,13,"eventType"],[54,24,167,22],[54,25,167,23],[54,28,167,26,"registrations"],[54,41,167,39],[55,4,168,2],[56,4,169,2],[56,11,169,9,"registrations"],[56,24,169,22],[57,2,170,0],[58,0,170,1],[58,3]],"functionMap":{"names":["<global>","EventEmitter","addListener","registration.remove","emit","removeAllListeners","listenerCount","allocate"],"mappings":"AAA;eCoE;ECa;MCkB;ODE;GDI;EGS;GHc;EIK;GJS;EKK;GLI;CDC;AOE"},"hasCjsExports":false},"type":"js/module"}]}