{"dependencies":[{"name":"../Cloneable.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":44,"index":44}}],"key":"FJQ7sPyD2S04pmlIJS/Y7IUPNDY=","exportNames":["*"],"imports":1}},{"name":"../errors/index.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":45},"end":{"line":2,"column":50,"index":95}}],"key":"rg9G2hGSxUlgvvl94nwST8IJkQ8=","exportNames":["*"],"imports":1}},{"name":"./RestrictionType.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":96},"end":{"line":3,"column":55,"index":151}}],"key":"QvzwagpQEHyUHt2gmf30kTBSy2A=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"PurposeRestriction\", {\n    enumerable: true,\n    get: function () {\n      return PurposeRestriction;\n    }\n  });\n  var _CloneableJs = require(_dependencyMap[0], \"../Cloneable.js\");\n  var _errorsIndexJs = require(_dependencyMap[1], \"../errors/index.js\");\n  var _RestrictionTypeJs = require(_dependencyMap[2], \"./RestrictionType.js\");\n  class PurposeRestriction extends _CloneableJs.Cloneable {\n    static hashSeparator = '-';\n    /**\n     * constructor\n     *\n     * @param {number} purposeId? - may optionally pass the purposeId into the\n     * constructor\n     * @param {RestrictionType} restrictionType? - may\n     * optionally pass the restrictionType into the constructor\n     * @return {undefined}\n     */\n    constructor(purposeId, restrictionType) {\n      super();\n      if (purposeId !== undefined) {\n        this.purposeId = purposeId;\n      }\n      if (restrictionType !== undefined) {\n        this.restrictionType = restrictionType;\n      }\n    }\n    static unHash(hash) {\n      const splitUp = hash.split(this.hashSeparator);\n      const purpRestriction = new PurposeRestriction();\n      if (splitUp.length !== 2) {\n        throw new _errorsIndexJs.TCModelError('hash', hash);\n      }\n      purpRestriction.purposeId = parseInt(splitUp[0], 10);\n      purpRestriction.restrictionType = parseInt(splitUp[1], 10);\n      return purpRestriction;\n    }\n    get hash() {\n      if (!this.isValid()) {\n        throw new Error('cannot hash invalid PurposeRestriction');\n      }\n      return `${this.purposeId}${PurposeRestriction.hashSeparator}${this.restrictionType}`;\n    }\n    /**\n     * @return {number} The purpose Id associated with a publisher\n     * purpose-by-vendor restriction that resulted in a different consent or LI\n     * status than the consent or LI purposes allowed lists.\n     */\n    get purposeId() {\n      return this.purposeId_;\n    }\n    /**\n     * @param {number} idNum - The purpose Id associated with a publisher\n     * purpose-by-vendor restriction that resulted in a different consent or LI\n     * status than the consent or LI purposes allowed lists.\n     */\n    set purposeId(idNum) {\n      this.purposeId_ = idNum;\n    }\n    isValid() {\n      return Number.isInteger(this.purposeId) && this.purposeId > 0 && (this.restrictionType === _RestrictionTypeJs.RestrictionType.NOT_ALLOWED || this.restrictionType === _RestrictionTypeJs.RestrictionType.REQUIRE_CONSENT || this.restrictionType === _RestrictionTypeJs.RestrictionType.REQUIRE_LI);\n    }\n    isSameAs(otherPR) {\n      return this.purposeId === otherPR.purposeId && this.restrictionType === otherPR.restrictionType;\n    }\n  }\n});","lineCount":75,"map":[[7,2,4,0,"Object"],[7,8,4,0],[7,9,4,0,"defineProperty"],[7,23,4,0],[7,24,4,0,"exports"],[7,31,4,0],[8,4,4,0,"enumerable"],[8,14,4,0],[9,4,4,0,"get"],[9,7,4,0],[9,18,4,0,"get"],[9,19,4,0],[10,6,4,0],[10,13,4,0,"PurposeRestriction"],[10,31,4,0],[11,4,4,0],[12,2,4,0],[13,2,1,0],[13,6,1,0,"_CloneableJs"],[13,18,1,0],[13,21,1,0,"require"],[13,28,1,0],[13,29,1,0,"_dependencyMap"],[13,43,1,0],[14,2,2,0],[14,6,2,0,"_errorsIndexJs"],[14,20,2,0],[14,23,2,0,"require"],[14,30,2,0],[14,31,2,0,"_dependencyMap"],[14,45,2,0],[15,2,3,0],[15,6,3,0,"_RestrictionTypeJs"],[15,24,3,0],[15,27,3,0,"require"],[15,34,3,0],[15,35,3,0,"_dependencyMap"],[15,49,3,0],[16,2,4,7],[16,8,4,13,"PurposeRestriction"],[16,26,4,31],[16,35,4,40,"Cloneable"],[16,47,4,49],[16,48,4,49,"Cloneable"],[16,57,4,49],[16,58,4,50],[17,4,5,4],[17,11,5,11,"hashSeparator"],[17,24,5,24],[17,27,5,27],[17,30,5,30],[18,4,8,4],[19,0,9,0],[20,0,10,0],[21,0,11,0],[22,0,12,0],[23,0,13,0],[24,0,14,0],[25,0,15,0],[26,0,16,0],[27,4,17,4,"constructor"],[27,15,17,15,"constructor"],[27,16,17,16,"purposeId"],[27,25,17,25],[27,27,17,27,"restrictionType"],[27,42,17,42],[27,44,17,44],[28,6,18,8],[28,11,18,13],[28,12,18,14],[28,13,18,15],[29,6,19,8],[29,10,19,12,"purposeId"],[29,19,19,21],[29,24,19,26,"undefined"],[29,33,19,35],[29,35,19,37],[30,8,20,12],[30,12,20,16],[30,13,20,17,"purposeId"],[30,22,20,26],[30,25,20,29,"purposeId"],[30,34,20,38],[31,6,21,8],[32,6,22,8],[32,10,22,12,"restrictionType"],[32,25,22,27],[32,30,22,32,"undefined"],[32,39,22,41],[32,41,22,43],[33,8,23,12],[33,12,23,16],[33,13,23,17,"restrictionType"],[33,28,23,32],[33,31,23,35,"restrictionType"],[33,46,23,50],[34,6,24,8],[35,4,25,4],[36,4,26,4],[36,11,26,11,"unHash"],[36,17,26,17,"unHash"],[36,18,26,18,"hash"],[36,22,26,22],[36,24,26,24],[37,6,27,8],[37,12,27,14,"splitUp"],[37,19,27,21],[37,22,27,24,"hash"],[37,26,27,28],[37,27,27,29,"split"],[37,32,27,34],[37,33,27,35],[37,37,27,39],[37,38,27,40,"hashSeparator"],[37,51,27,53],[37,52,27,54],[38,6,28,8],[38,12,28,14,"purpRestriction"],[38,27,28,29],[38,30,28,32],[38,34,28,36,"PurposeRestriction"],[38,52,28,54],[38,53,28,55],[38,54,28,56],[39,6,29,8],[39,10,29,12,"splitUp"],[39,17,29,19],[39,18,29,20,"length"],[39,24,29,26],[39,29,29,31],[39,30,29,32],[39,32,29,34],[40,8,30,12],[40,14,30,18],[40,18,30,22,"TCModelError"],[40,32,30,34],[40,33,30,34,"TCModelError"],[40,45,30,34],[40,46,30,35],[40,52,30,41],[40,54,30,43,"hash"],[40,58,30,47],[40,59,30,48],[41,6,31,8],[42,6,32,8,"purpRestriction"],[42,21,32,23],[42,22,32,24,"purposeId"],[42,31,32,33],[42,34,32,36,"parseInt"],[42,42,32,44],[42,43,32,45,"splitUp"],[42,50,32,52],[42,51,32,53],[42,52,32,54],[42,53,32,55],[42,55,32,57],[42,57,32,59],[42,58,32,60],[43,6,33,8,"purpRestriction"],[43,21,33,23],[43,22,33,24,"restrictionType"],[43,37,33,39],[43,40,33,42,"parseInt"],[43,48,33,50],[43,49,33,51,"splitUp"],[43,56,33,58],[43,57,33,59],[43,58,33,60],[43,59,33,61],[43,61,33,63],[43,63,33,65],[43,64,33,66],[44,6,34,8],[44,13,34,15,"purpRestriction"],[44,28,34,30],[45,4,35,4],[46,4,36,4],[46,8,36,8,"hash"],[46,12,36,12,"hash"],[46,13,36,12],[46,15,36,15],[47,6,37,8],[47,10,37,12],[47,11,37,13],[47,15,37,17],[47,16,37,18,"isValid"],[47,23,37,25],[47,24,37,26],[47,25,37,27],[47,27,37,29],[48,8,38,12],[48,14,38,18],[48,18,38,22,"Error"],[48,23,38,27],[48,24,38,28],[48,64,38,68],[48,65,38,69],[49,6,39,8],[50,6,40,8],[50,13,40,15],[50,16,40,18],[50,20,40,22],[50,21,40,23,"purposeId"],[50,30,40,32],[50,33,40,35,"PurposeRestriction"],[50,51,40,53],[50,52,40,54,"hashSeparator"],[50,65,40,67],[50,68,40,70],[50,72,40,74],[50,73,40,75,"restrictionType"],[50,88,40,90],[50,90,40,92],[51,4,41,4],[52,4,42,4],[53,0,43,0],[54,0,44,0],[55,0,45,0],[56,0,46,0],[57,4,47,4],[57,8,47,8,"purposeId"],[57,17,47,17,"purposeId"],[57,18,47,17],[57,20,47,20],[58,6,48,8],[58,13,48,15],[58,17,48,19],[58,18,48,20,"purposeId_"],[58,28,48,30],[59,4,49,4],[60,4,50,4],[61,0,51,0],[62,0,52,0],[63,0,53,0],[64,0,54,0],[65,4,55,4],[65,8,55,8,"purposeId"],[65,17,55,17,"purposeId"],[65,18,55,18,"idNum"],[65,23,55,23],[65,25,55,25],[66,6,56,8],[66,10,56,12],[66,11,56,13,"purposeId_"],[66,21,56,23],[66,24,56,26,"idNum"],[66,29,56,31],[67,4,57,4],[68,4,58,4,"isValid"],[68,11,58,11,"isValid"],[68,12,58,11],[68,14,58,14],[69,6,59,8],[69,13,59,16,"Number"],[69,19,59,22],[69,20,59,23,"isInteger"],[69,29,59,32],[69,30,59,33],[69,34,59,37],[69,35,59,38,"purposeId"],[69,44,59,47],[69,45,59,48],[69,49,60,12],[69,53,60,16],[69,54,60,17,"purposeId"],[69,63,60,26],[69,66,60,29],[69,67,60,30],[69,72,61,13],[69,76,61,17],[69,77,61,18,"restrictionType"],[69,92,61,33],[69,97,61,38,"RestrictionType"],[69,115,61,53],[69,116,61,53,"RestrictionType"],[69,131,61,53],[69,132,61,54,"NOT_ALLOWED"],[69,143,61,65],[69,147,62,16],[69,151,62,20],[69,152,62,21,"restrictionType"],[69,167,62,36],[69,172,62,41,"RestrictionType"],[69,190,62,56],[69,191,62,56,"RestrictionType"],[69,206,62,56],[69,207,62,57,"REQUIRE_CONSENT"],[69,222,62,72],[69,226,63,16],[69,230,63,20],[69,231,63,21,"restrictionType"],[69,246,63,36],[69,251,63,41,"RestrictionType"],[69,269,63,56],[69,270,63,56,"RestrictionType"],[69,285,63,56],[69,286,63,57,"REQUIRE_LI"],[69,296,63,67],[69,297,63,68],[70,4,64,4],[71,4,65,4,"isSameAs"],[71,12,65,12,"isSameAs"],[71,13,65,13,"otherPR"],[71,20,65,20],[71,22,65,22],[72,6,66,8],[72,13,66,16],[72,17,66,20],[72,18,66,21,"purposeId"],[72,27,66,30],[72,32,66,35,"otherPR"],[72,39,66,42],[72,40,66,43,"purposeId"],[72,49,66,52],[72,53,67,12],[72,57,67,16],[72,58,67,17,"restrictionType"],[72,73,67,32],[72,78,67,37,"otherPR"],[72,85,67,44],[72,86,67,45,"restrictionType"],[72,101,67,60],[73,4,68,4],[74,2,69,0],[75,0,69,1],[75,3]],"functionMap":{"names":["<global>","PurposeRestriction","constructor","unHash","get__hash","get__purposeId","set__purposeId","isValid","isSameAs"],"mappings":"AAA;OCG;ICa;KDQ;IEC;KFS;IGC;KHK;IIM;KJE;IKM;KLE;IMC;KNM;IOC;KPG;CDC"},"hasCjsExports":false},"type":"js/module"}]}